<html>
  <head>
    <title>Engine test</title>
    <meta
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
      name="viewport"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <script src="https://d3js.org/d3.v5.min.js"></script>
  </head>
  <style>
    html,
    body {
      min-height: 000%;
      margin: 0;
      padding: 0;
      touch-action: pan-x pan-y;
      height: 100%;
    }

    #root {
      position: absolute;
      top: 10px;
      left: 10px;
      right: 10px;
      bottom: 10px;
    }

    #label {
      position: absolute;
      z-index: 100000;
      top: 10px;
      left: 10px;
      color: blue;
      font-weight: bold;
      font-size: 20px;
    }
  </style>
  <body>
    <div id="center"></div>
    <div id="root"></div>
    <div id="label"></div>
    <script src="./dependencies/pixi.js"></script>
    <script src="./dependencies/d3.v5.min.js"></script>
    <script src="./core/Vector2.js"></script>
    <script src="./core/Vector3.js"></script>
    <script src="./core/Raycast.js"></script>
    <script src="./core/actor/Actor.js"></script>
    <script src="./core/actor/ActorObject.js"></script>
    <script src="./core/Engine.js"></script>
    <script src="./core/DebugGrid.js"></script>
    <script src="./terrain/TerrainGenerator.js"></script>
    <script src="./ObserverPointMover.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        Engine.setup(document.getElementById('root')).start();
        Engine.setDebug(true);

        const terrain = new TerrainGenerator();
        terrain.map = [
          [0, 0, 1, 1, 1, 0, 0],
          [0, 0, 1, 1, 1, 0, 0],
          [0, 0, 1, 1, 1, 0, 0],
          [0, 0, 1, 1, 1, 0, 0],
          [0, 0, 1, 1, 1, 0, 0],
          [0, 0, 1, 1, 1, 0, 0],
          [0, 0, 1, 1, 1, 0, 0],
          [0, 0, 1, 1, 1, 0, 0]
        ];
        terrain.setActorTiles();
        
        const observerPointMover = new ObserverPointMover();
        observerPointMover.setTerrain(terrain);
      });
    </script>
  </body>
</html>
